<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Home</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html" class="active">Home</a></li><li class="chapter-item affix "><li class="part-title">src</li><li class="chapter-item "><a href="src/Foo.sol/contract.Foo.html">Foo</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/qd-qd/template-foundry" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="foundry-template"><a class="header" href="#foundry-template">Foundry Template</a></h1>
<p><a href="https://gitpod.io/#https://github.com/qd-qd/template-foundry"><img src="https://img.shields.io/badge/Gitpod-Open%20in%20Gitpod-FFB45B?logo=gitpod" alt="Open in Gitpod" /></a> <a href="https://github.com/qd-qd/template-foundry/actions/workflows/quality-checks.yml"><img src="https://github.com/qd-qd/template-foundry/actions/workflows/quality-checks.yml/badge.svg?branch=main" alt="Github Actions" /></a>
<a href="https://github.com/qd-qd/template-foundry/actions/workflows/tests.yml"><img src="https://github.com/qd-qd/template-foundry/actions/workflows/tests.yml/badge.svg?branch=main" alt="Github Actions" /></a>
<a href="https://github.com/qd-qd/template-foundry/actions/workflows/static-analysis.yml"><img src="https://github.com/qd-qd/template-foundry/actions/workflows/static-analysis.yml/badge.svg?branch=main" alt="Github Actions" /></a>
<a href="https://github.com/qd-qd/template-foundry/actions/workflows/release-package.yml"><img src="https://github.com/qd-qd/template-foundry/actions/workflows/release-package.yml/badge.svg" alt="Github Actions" /></a> <a href="https://book.getfoundry.sh/"><img src="https://img.shields.io/badge/Built%20with-Foundry-FFDB1C.svg" alt="Foundry" /></a>
<a href="./LICENSE.html"><img src="https://img.shields.io/badge/License-MIT-blue.svg" alt="License: MIT" /></a></p>
<p>A Foundry-based template for developing Solidity smart contracts, with sensible defaults. Based on
<a href="https://github.com/PaulRBerg">@PaulRBerg</a> <a href="https://github.com/PaulRBerg/foundry-template">template</a>.</p>
<h2 id="whats-inside"><a class="header" href="#whats-inside">What's Inside</a></h2>
<ul>
<li><a href="https://github.com/foundry-rs/foundry/blob/master/forge">Forge</a>: compile, test, fuzz, format, and deploy smart
contracts</li>
<li><a href="https://github.com/foundry-rs/forge-std">Forge Std</a>: collection of helpful contracts and cheatcodes for testing</li>
<li><a href="https://github.com/PaulRBerg/prb-test">PRBTest</a>: modern collection of testing assertions and logging utilities</li>
<li><a href="https://github.com/prettier/prettier">Prettier</a>: code formatter for non-Solidity files</li>
<li><a href="https://github.com/solhint-community/solhint-community">Solhint Community</a>: linter for Solidity code</li>
<li><a href="https://www.gnu.org/software/make/manual/make.html">Make</a>: build automation tool that allows developers to automate
repetitive tasks</li>
<li><a href="https://github.com/evilmartians/lefthook">Lefthook</a>: Fast and powerful Git hooks manager for any type of projects</li>
</ul>
<h2 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h2>
<h3 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h3>
<p>This repository uses <a href="https://www.gnu.org/software/make/manual/make.html"><code>make</code></a> to automate repetitive tasks.</p>
<p><code>make</code> is a build automation tool that employs a file known as a makefile to automate the construction of executable
programs and libraries. The makefile details the process of deriving the target program from the source files and other
dependencies. This allows developers to automate repetitive tasks and manage complex build processes efficiently. <code>make</code>
is our primary tool in a multi-environment repository. It enables us to centralize all commands into a single file
(<a href="./makefile">the makefile</a>), eliminating the need to deal with <code>npm</code> scripts defined in a package.json or remembering
the various commands provided by the <code>foundry</code> cli. If you're unfamiliar with <code>make</code>, you can read more about it
<a href="https://www.gnu.org/software/make/manual/make.html">here</a>.</p>
<blockquote>
<p>üí° Running make at the root of the project will display a list of all the available commands. This can be useful to
know what you can do with the project.</p>
</blockquote>
<h4 id="make-of-linux"><a class="header" href="#make-of-linux">Make of Linux</a></h4>
<p><code>make</code> is automatically included in all modern Linux distributions. If you're using Linux, you should be able to use
<code>make</code> without any additional steps. If not, you can likely find it in the package tool you usually use.</p>
<h4 id="make-on-macos"><a class="header" href="#make-on-macos">Make on MacOS</a></h4>
<p>MacOS users can install <code>make</code> using <a href="https://formulae.brew.sh/formula/make">Homebrew</a> with the following command:</p>
<pre><code class="language-sh">brew install make
</code></pre>
<h3 id="installation"><a class="header" href="#installation">Installation</a></h3>
<p>Click the <a href="https://github.com/qd-qd/template-foundry/generate"><code>Use this template</code></a> button at the top of the page to
create a new repository with this repo as the initial state.</p>
<p>Or, if you prefer to install the template manually:</p>
<pre><code class="language-sh">forge init my-project --template https://github.com/qd-qd/template-foundry
cd my-project
make install # install the forge dependencies and the npm dependencies
</code></pre>
<p>If this is your first time with Foundry, check out the
<a href="https://github.com/foundry-rs/foundry#installation">installation</a> instructions.</p>
<blockquote>
<p>‚ÑπÔ∏è As part of the initialization process, a one-time script, which can be found
<a href="./.github/workflows/setup-template.yml">here</a>, is utilized to tailor the template to your specific project. This
script will automatically update the <a href="./package.json">package.json</a> file with details like your project's name, the
author's name, the homepage, the repository URL, etc. Additionally, it will remove unnecessary files, such as the
FUNDING.yml file and the initialization script itself.</p>
</blockquote>
<h3 id="git-hooks"><a class="header" href="#git-hooks">Git hooks</a></h3>
<p>This project uses <code>Lefthook</code> to manage Git hooks, which are scripts that run automatically when certain Git events
occur, such as committing code or pushing changes to a remote repository. <code>Lefthook</code> simplifies the management and
execution of these scripts.</p>
<p>After installing the dependencies, you can configure the Git hooks by running the following command in the project
directory:</p>
<pre><code class="language-sh">make hooks-i
</code></pre>
<p>This command installs a Git hook that runs Lefthook before pushing code to a remote repository. If Lefthook fails, the
push is aborted.</p>
<p>If you wish to run Lefthook manually, you can use the following command:</p>
<pre><code class="language-sh">make hooks
</code></pre>
<p>Executing this will activate all the Git hooks specified in the <a href="./lefthook.yml">lefthook</a> file, including commands for
linting, formatting, testing, and compiling.</p>
<h4 id="skipping-git-hooks"><a class="header" href="#skipping-git-hooks">Skipping git hooks</a></h4>
<p>If you need to intentionally skip Lefthook, you can pass the <code>--no-verify</code> flag to the git push command. For example to
bypass Lefthook when pushing code, use the following command:</p>
<pre><code class="language-sh">git push origin --no-verify
</code></pre>
<h2 id="features"><a class="header" href="#features">Features</a></h2>
<p>This template builds upon the frameworks and libraries mentioned above, so for details about their specific features,
please consult their respective documentation.</p>
<p>For example, if you're interested in exploring Foundry in more detail, you should look at the
<a href="https://book.getfoundry.sh/">Foundry Book</a>. In particular, you may be interested in reading the
<a href="https://book.getfoundry.sh/forge/writing-tests.html">Writing Tests</a> tutorial.</p>
<h3 id="sensible-defaults"><a class="header" href="#sensible-defaults">Sensible Defaults</a></h3>
<p>This template comes with a set of sensible default configurations for you to use. These defaults can be found in the
following files:</p>
<pre><code class="language-text">‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .prettierignore
‚îú‚îÄ‚îÄ .prettierrc.yml
‚îú‚îÄ‚îÄ .solhint.json
‚îú‚îÄ‚îÄ .nvmrc
‚îú‚îÄ‚îÄ lefthook.yml
‚îú‚îÄ‚îÄ makefile
‚îú‚îÄ‚îÄ slither.config.json
‚îî‚îÄ‚îÄ foundry.toml
</code></pre>
<h3 id="github-actions"><a class="header" href="#github-actions">GitHub Actions</a></h3>
<p>This template comes with GitHub Actions pre-configured.</p>
<ul>
<li><a href="./.github/workflows/quality-checks.yml">quality-checks.yml</a>: runs the compilation command, the linter and the
formatter on every push and pull request made to the <code>main</code> branch. The size of the contracts is printed in the logs.</li>
<li><a href="./.github/workflows/static-analysis.yml">static-analysis.yml</a>: runs the static analysis tool on every push and pull
request made to the <code>main</code> branch. This action uses <a href="https://github.com/crytic/slither">slither</a> and is only triggered
when specific files are modified.</li>
<li><a href="./.github/workflows/tests.yml">tests.yml</a>: runs the tests onsevery push and pull request made to the <code>main</code> branch.
This action also compare the gas cost between the <code>main</code> branch and the pull request branch and post the difference as
a comment on the pull request.</li>
<li><a href="./.github/workflows/release-package.yml">release-package.yml</a>: creates a new release every time you push a new tag to
the repository. This action is only triggered on tags starting with <code>v</code>. Once the release is created, the action is
also in charge of deploying the documentation to the <code>gh-pages</code> branch. <strong>THIS ACTION NEEDS AN ACTION FROM YOUR SIDE
TO WORK</strong></li>
</ul>
<p>You can edit the CI scripts in the <a href="./.github/workflows">workflows directory</a>.</p>
<h4 id="configure-the-release-action"><a class="header" href="#configure-the-release-action">Configure the release action</a></h4>
<p>The release action is in charge of deploying the documentation to the <code>gh-pages</code> branch. To do so, it needs to have a
personal access token with the right permissions. To create this token, go to the
<a href="https://github.com/settings/tokens?type=beta">settings of your Github account</a>. Make sure to select the permissions
listed below. Once create, copy the token, go to the Github repository of this project and create a secret named
<code>RELEASE_TOKEN</code> with the value of the token you just created. Here are the <strong>repositories</strong> permissions required by the
token:</p>
<ul>
<li>Actions: Read and write</li>
<li>Contents: Read and write</li>
<li>Commit statuses: Read-only</li>
<li>Metadata: Read-only</li>
<li>Pull requests: Read-only</li>
</ul>
<h2 id="writing-tests"><a class="header" href="#writing-tests">Writing Tests</a></h2>
<p>To write a new test contract, you start by importing <a href="https://github.com/PaulRBerg/prb-test">PRBTest</a> and inherit from
it in your test contract. PRBTest comes with a pre-instantiated <a href="https://book.getfoundry.sh/cheatcodes/">cheatcodes</a>
environment accessible via the <code>vm</code> property. If you would like to view the logs in the terminal output you can run the
dedicated verbose command and use
<a href="https://book.getfoundry.sh/faq?highlight=console.log#how-do-i-use-consolelog">console.log</a>.</p>
<p>This template comes with an example test contract <a href="./test/Foo.t.sol">Foo.t.sol</a></p>
<h2 id="usage"><a class="header" href="#usage">Usage</a></h2>
<p>You can access a list of all available commands by running <code>make</code> in the project's root directory.</p>
<pre><code class="language-sh">make
</code></pre>
<p>These commands are outlined in the <a href="./Makefile">makefile</a>.</p>
<h2 id="scripts"><a class="header" href="#scripts">Scripts</a></h2>
<h3 id="deploy"><a class="header" href="#deploy">Deploy</a></h3>
<p>This script is located in the <a href="./script">script</a> directory. It deploys the contract to a network. For example, to deploy
to <a href="https://book.getfoundry.sh/anvil/">Anvil</a>, you can run the following command:</p>
<pre><code class="language-sh">forge script script/Deploy.s.sol --broadcast --fork-url http://localhost:8545
</code></pre>
<p>For this script to work, you need to have a <code>MNEMONIC</code> environment variable set to a valid
<a href="https://iancoleman.io/bip39/">BIP39 mnemonic</a>.</p>
<p>For instructions on how to deploy to a testnet or mainnet, check out the
<a href="https://book.getfoundry.sh/tutorials/solidity-scripting.html">Solidity Scripting</a> tutorial.</p>
<h2 id="notes"><a class="header" href="#notes">Notes</a></h2>
<ol>
<li>Foundry uses <a href="https://git-scm.com/book/en/v2/Git-Tools-Submodules">git submodules</a> to manage dependencies. For
detailed instructions on working with dependencies, please refer to the
<a href="https://book.getfoundry.sh/projects/dependencies.html">guide</a> in the book</li>
<li>You don't have to create a <code>.env</code> file, but filling in the environment variables may be useful when debugging and
testing against a fork.</li>
<li>This template uses <a href="https://www.npmjs.com/">npm</a> to manage JavaScript dependencies.</li>
<li>This template only uses <a href="https://github.com/crytic/slither">slither</a> in the CI pipeline. If you want to run it
locally, you need to install it for yourself by following the instructions in the
<a href="https://github.com/crytic/slither#how-to-install">documentation</a>.</li>
<li>This template includes a opiniated <a href="./.github/CONTRIBUTING.html">contributing guide</a> you free to update.</li>
<li>Remappings are configured in the <a href="./foundry.toml">foundry.toml file</a> file in order to centralize the configuration.
Feel free to update them.</li>
</ol>
<h2 id="related-efforts"><a class="header" href="#related-efforts">Related Efforts</a></h2>
<ul>
<li><a href="https://github.com/abigger87/femplate">abigger87/femplate</a></li>
<li><a href="https://github.com/cleanunicorn/ethereum-smartcontract-template">cleanunicorn/ethereum-smartcontract-template</a></li>
<li><a href="https://github.com/foundry-rs/forge-template">foundry-rs/forge-template</a></li>
<li><a href="https://github.com/FrankieIsLost/forge-template">FrankieIsLost/forge-template</a></li>
<li><a href="https://github.com/PaulRBerg/foundry-template">PaulRBerg/foundry-template</a></li>
</ul>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p>This project is licensed under MIT.</p>
<h2 id="acknowledgements"><a class="header" href="#acknowledgements">Acknowledgements</a></h2>
<p>This template has been boostrapped using <a href="https://github.com/PaulRBerg">@PaulRBerg</a>
<a href="https://github.com/PaulRBerg/foundry-template">template</a>. This version is a bit more opinionated (<code>make</code>...) and comes
with a few more features. Thanks to him for his valuable contributions to the community.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                            <a rel="next" href="src/Foo.sol/contract.Foo.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

                    <a rel="next" href="src/Foo.sol/contract.Foo.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="solidity.min.js"></script>


    </div>
    </body>
</html>
